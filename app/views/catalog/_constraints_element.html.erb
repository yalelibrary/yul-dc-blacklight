<%  # local params:
    # label
    # value
    # options =>
    #   :remove => url for a remove constraint link
    #   :classes => array of classes to add to container span
    options ||= {}
%>

<span class="btn-group applied-filter constraint query <%= options[:classes].join(" ") if options[:classes] %>">
  <span class="constraint-value btn btn-outline-secondary ">
    <% unless label.blank? %>
      <span class="filter-name"><%= label %></span>
    <% end %>
    <% unless value.blank? %>
      <%= content_tag :span, value, class: 'filter-value'%>
    <% end %>
    <% unless options[:remove].blank? %>
    <% accessible_remove_label = content_tag :span, class: 'sr-only' do
      if label.blank?
        t('blacklight.search.filters.remove.value', value: value)
      else
        t('blacklight.search.filters.remove.label_value', label: label, value: value)
      end
    end
    %>
      <%= link_to(content_tag(:span, image_tag('x2x.png'),
                              class: 'remove-icon') ,
                  options[:remove], class: 'btn btn-outline-secondary remove'
          ) %>
  <%- end -%>
  </span>
</span>